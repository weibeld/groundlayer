!function(){"use strict";var e=window.wp.element,t=window.React;function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},n.apply(this,arguments)}var l=window.wp.components;const{__:__}=wp.i18n;function o(t){let{fontFamily:n,fontWeight:o,fontStyle:a,demoText:c,deleteFontFace:r}=t;const i={fontFamily:n,fontStyle:a,fontWeight:o?String(o).split(" ")[0]:"normal"};return(0,e.createElement)("tr",{className:"font-face"},(0,e.createElement)("td",null,a),(0,e.createElement)("td",null,o),(0,e.createElement)("td",{className:"demo-cell"},(0,e.createElement)("p",{style:i},c)),r&&(0,e.createElement)("td",null,(0,e.createElement)(l.Button,{variant:"tertiary",isDestructive:!0,onClick:r},__("Remove"))))}o.defaultProps={demoText:__("The quick brown fox jumps over the lazy dog.","create-block-theme"),fontWeight:"normal",fontStyle:"normal"};var a=o;const{__:c}=wp.i18n;function r(o){let{fontFamily:r,fontFamilyIndex:i,deleteFontFamily:m,deleteFontFace:f,demoText:d}=o;const[s,u]=(0,t.useState)(!0),y=r.fontFace&&r.fontFace.length;return(0,e.createElement)("table",{className:"wp-list-table widefat table-view-list"},(0,e.createElement)("thead",null,(0,e.createElement)("td",{class:"font-family-head"},(0,e.createElement)("div",null,(0,e.createElement)("strong",null,r.name||r.fontFamily)),(0,e.createElement)("div",null,(0,e.createElement)(l.Button,{variant:"tertiary",isDestructive:!0,onClick:e=>{e.stopPropagation(),m(i)}},c("Remove Font Family")),(0,e.createElement)(l.Button,{onClick:()=>{u(!s)}},(0,e.createElement)(l.Icon,{icon:s?"arrow-up-alt2":"arrow-down-alt2"}))))),(0,e.createElement)("tbody",{className:"font-family-contents"},(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:" slide "+(s?"open":"close")},(0,e.createElement)("table",{className:"wp-list-table widefat striped table-view-list"},(0,e.createElement)("thead",null,(0,e.createElement)("td",null,c("Style")),(0,e.createElement)("td",null,c("Weight")),(0,e.createElement)("td",null,c("Preview")),y&&(0,e.createElement)("td",null)),(0,e.createElement)("tbody",null,y&&r.fontFace.map(((t,l)=>(0,e.createElement)(a,n({},t,{fontFamilyIndex:i,fontFaceIndex:l,demoText:d,key:`fontface${l}`,deleteFontFace:()=>f(i,l)})))),!y&&r.fontFamily&&(0,e.createElement)(a,n({},r,{demoText:d}))))))))}r.defaultProps={demoText:c("The quick brown fox jumps over the lazy dog.","create-block-theme")};var i=r;const{__:m}=wp.i18n;var f=function(){var n,o;const a=document.querySelector("#theme-fonts-json"),c=document.querySelector("#manage-fonts-form"),r=a.innerHTML,f=JSON.parse(r),[d,s]=(0,t.useState)(f),[u,y]=(0,t.useState)({fontFamilyIndex:void 0,fontFaceIndex:void 0}),[F,h]=(0,t.useState)(!1),[v,E]=(0,t.useState)(!1);(0,t.useEffect)((()=>{void 0===u.fontFamilyIndex&&void 0===u.fontFaceIndex||c.submit()}),[d]);const p=()=>{E(!v)};function w(e,t){y({fontFamilyIndex:e,fontFaceIndex:t},h(!0))}const x=d[u.fontFamilyIndex],g=null===(n=d[u.fontFamilyIndex])||void 0===n||null===(o=n.fontFace)||void 0===o?void 0:o[u.fontFaceIndex];return(0,e.createElement)(e.Fragment,null,v&&(0,e.createElement)(l.Modal,{title:(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.Icon,{icon:"info"})," ",m("Info","create-block-theme")),onRequestClose:p},(0,e.createElement)("p",null,m("This is a list of your font families listed in the theme.json file of your theme.","create-block-theme")),(0,e.createElement)("p",null,m("If your theme.json makes reference to fonts providers other than local they may not be displayed correctly.","create-block-theme"))),(0,e.createElement)("p",{class:"help"},m("These are the fonts currently embedded in your theme ","create-block-theme"),(0,e.createElement)(l.Button,{onClick:p,style:{padding:"0",height:"1rem"}},(0,e.createElement)(l.Icon,{icon:"info"}))),(0,e.createElement)("input",{type:"hidden",name:"new-theme-fonts-json",value:JSON.stringify(d)}),(0,e.createElement)(l.__experimentalConfirmDialog,{isOpen:F,onConfirm:function(){h(!1),void 0!==u.fontFamilyIndex&&void 0!==u.fontFaceIndex?function(){const{fontFamilyIndex:e,fontFaceIndex:t}=u,n=d.reduce(((n,l,o)=>{var a;if(o===e&&l.fontFace.length>1){const{fontFace:e,...o}=l;return o.fontFace=l.fontFace.filter(((e,n)=>n!==t)),[...n,o]}return 1==(null==l||null===(a=l.fontFace)||void 0===a?void 0:a.length)&&o===e?n:[...n,l]}),[]);s(n)}(u.fontFamilyIndex,u.fontFaceIndex):function(e){const t=d.filter(((t,n)=>n!==e));s(t)}(u.fontFamilyIndex)},onCancel:function(){y({}),h(!1)}},void 0!==(null==u?void 0:u.fontFamilyIndex)&&void 0!==(null==u?void 0:u.fontFaceIndex)?(0,e.createElement)("h3",null,m(`Are you sure you want to delete "${null==g?void 0:g.fontStyle} - ${null==g?void 0:g.fontWeight}"  variant of "${null==x?void 0:x.fontFamily}" from your theme?`,"create-block-theme")):(0,e.createElement)("h3",null,m(`Are you sure you want to delete "${null==x?void 0:x.fontFamily}" from your theme?`,"create-block-theme")),(0,e.createElement)("p",null,m("This action will delete the font definition and the font file assets from your theme.","create-block-theme"))),(0,e.createElement)("div",{className:"font-families"},d.map(((t,n)=>(0,e.createElement)(i,{fontFamily:t,fontFamilyIndex:n,key:`fontfamily${n}`,deleteFontFamily:w,deleteFontFace:w})))))};function d(){return"manage-fonts"===new URLSearchParams(document.location.search).get("page")?(0,e.createElement)(f,null):(0,e.createElement)("p",null,"Default")}window.addEventListener("load",(function(){(0,e.render)((0,e.createElement)(d,null),document.querySelector("#manage-fonts"))}),!1)}();